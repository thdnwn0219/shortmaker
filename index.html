<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ì‡¼ì¸  AI ìƒì„±ê¸°</title>
  <!-- Google Fonts for Modern Look -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <!-- GSAP Animation Library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <style>
    :root {
      --primary: #6366f1;
      --accent: #fbbf24;
      --bg: #f8fafc;
      --card: #fff;
      --radius: 18px;
      --shadow: 0 4px 32px rgba(60,60,60,0.08);
      --transition: .18s cubic-bezier(.55,.06,.68,.19);
    }
    html, body {
      height: 100%;
      background: var(--bg);
      font-family: 'Inter', sans-serif;
      color: #222;
      margin: 0;
      padding: 0;
    }
    body {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .container {
      width: 100%;
      max-width: 420px;
      background: var(--card);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 36px 30px 30px 30px;
      position: relative;
      overflow: hidden;
    }
    .logo {
      font-weight: 800;
      font-size: 2.1rem;
      letter-spacing: -1px;
      color: var(--primary);
      margin-bottom: 6px;
      display: flex;
      align-items: center;
      gap: 10px;
      user-select: none;
    }
    .logo-anim {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--primary), var(--accent));
      display: inline-block;
      margin-right: 8px;
      box-shadow: 0 2px 12px rgba(99,102,241,0.13);
      position: relative;
      overflow: hidden;
    }
    .desc {
      color: #6b7280;
      font-size: 1.04rem;
      margin-bottom: 30px;
      line-height: 1.5;
      font-weight: 500;
    }
    form {
      display: flex;
      flex-direction: column;
      gap: 18px;
    }
    label {
      font-size: .98rem;
      font-weight: 600;
      margin-bottom: 6px;
      color: #374151;
    }
    input, select {
      font-family: inherit;
      font-size: 1rem;
      border: 1.5px solid #e5e7eb;
      border-radius: 10px;
      padding: 12px 13px;
      background: #f7fafc;
      transition: border-color var(--transition), box-shadow var(--transition);
      outline: none;
      margin-bottom: 2px;
    }
    input:focus, select:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 2px #6366f133;
    }
    .api-group {
      background: #f3f4f6;
      border-radius: 12px;
      padding: 16px 14px 10px 14px;
      margin-top: 6px;
      margin-bottom: 0;
      animation: fadeIn .6s cubic-bezier(.33,1,.68,1);
    }
    .api-group label {
      font-size: .92rem;
      color: #555;
      margin-bottom: 2px;
    }
    .btn {
      background: linear-gradient(90deg, var(--primary), var(--accent));
      color: #fff;
      font-weight: 700;
      font-size: 1.08rem;
      border: none;
      border-radius: 10px;
      padding: 14px 0;
      margin-top: 12px;
      box-shadow: 0 2px 8px rgba(99,102,241,0.09);
      cursor: pointer;
      transition: transform .13s cubic-bezier(.33,1,.68,1), box-shadow .17s;
      will-change: transform;
      letter-spacing: .02em;
      position: relative;
      overflow: hidden;
    }
    .btn:active {
      transform: scale(.97);
      box-shadow: 0 1px 3px rgba(99,102,241,0.07);
    }
    .btn[disabled] {
      opacity: .6;
      cursor: not-allowed;
    }
    .download-btn {
      background: linear-gradient(90deg, #10b981, #059669);
      color: #fff;
      font-weight: 600;
      font-size: 1rem;
      border: none;
      border-radius: 8px;
      padding: 12px 24px;
      margin-top: 12px;
      cursor: pointer;
      transition: transform .13s cubic-bezier(.33,1,.68,1);
      text-decoration: none;
      display: inline-block;
      text-align: center;
    }
    .download-btn:hover {
      transform: translateY(-1px);
    }
    .error {
      background: #fee2e2;
      color: #b91c1c;
      border-radius: 8px;
      padding: 10px 13px;
      font-size: .99rem;
      margin-top: 8px;
      animation: shake .38s cubic-bezier(.36,.07,.19,.97);
      display: none;
    }
    @keyframes shake {
      10%, 90% { transform: translateX(-2px);}
      20%, 80% { transform: translateX(4px);}
      30%, 50%, 70% { transform: translateX(-8px);}
      40%, 60% { transform: translateX(8px);}
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(24px);}
      to { opacity: 1; transform: translateY(0);}
    }
    .loading {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 30px 0 15px 0;
      justify-content: center;
      animation: fadeIn .6s cubic-bezier(.33,1,.68,1);
    }
    .dot-loader {
      display: flex;
      gap: 8px;
      margin-bottom: 18px;
      margin-top: 5px;
    }
    .dot {
      width: 13px;
      height: 13px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--primary), var(--accent));
      opacity: .8;
      animation: bounce .8s infinite alternate;
    }
    .dot:nth-child(2) { animation-delay: .15s;}
    .dot:nth-child(3) { animation-delay: .3s;}
    @keyframes bounce {
      0% { transform: translateY(0);}
      100% { transform: translateY(-13px);}
    }
    .loading-status {
      color: #6366f1;
      font-size: 1.08rem;
      font-weight: 600;
      letter-spacing: .01em;
      margin-bottom: 2px;
      min-height: 24px;
      transition: color .22s;
    }
    .progressbar {
      width: 100%;
      height: 8px;
      background: #e5e7eb;
      border-radius: 6px;
      overflow: hidden;
      margin-bottom: 8px;
      margin-top: 4px;
    }
    .progressbar-inner {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, var(--primary), var(--accent));
      border-radius: 6px;
      transition: width .5s cubic-bezier(.33,1,.68,1);
    }
    .result {
      display: none;
      flex-direction: column;
      align-items: center;
      padding: 22px 0 8px 0;
      animation: fadeIn .7s cubic-bezier(.33,1,.68,1);
    }
    .result video {
      width: 100%;
      max-width: 260px;
      border-radius: 16px;
      box-shadow: 0 4px 18px rgba(99,102,241,0.09);
      margin-bottom: 12px;
      margin-top: 6px;
      background: #f3f4f6;
    }
    .video-info {
      background: #f8f9fa;
      border-radius: 8px;
      padding: 12px;
      margin-bottom: 12px;
      font-size: 0.9rem;
      color: #666;
      text-align: center;
    }
    .download-options {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      justify-content: center;
    }
    .credit {
      margin-top: 30px;
      text-align: center;
      color: #bdbdbd;
      font-size: .97rem;
      letter-spacing: .01em;
      user-select: none;
    }
    @media (max-width: 520px) {
      .container { padding: 24px 7vw 18px 7vw;}
      .logo { font-size: 1.5rem;}
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="logo"><span class="logo-anim"></span>ì‡¼ì¸ AI</div>
    <div class="desc">ëª‡ ì´ˆ ë§Œì— ë°”ì´ëŸ´ ì‡¼ì¸  ì˜ìƒì„ ë§Œë“œì„¸ìš”.<br>AI ìŠ¤í¬ë¦½íŠ¸ + ë¬´ë£Œ ìŠ¤í†¡ ì´ë¯¸ì§€ + ì¦‰ì‹œ ë Œë”ë§.</div>
    
    <form id="videoForm" autocomplete="off">
      <div>
        <label for="topic">ì£¼ì œ</label>
        <input type="text" id="topic" placeholder="ì˜ˆ: ìµœì‹  AI ë™í–¥" required />
      </div>
      <div>
        <label for="videoType">ì˜ìƒ ìœ í˜•</label>
        <select id="videoType" required>
          <option value="">ì„ íƒí•˜ì„¸ìš”</option>
          <option value="news">ë‰´ìŠ¤ / ì •ë³´</option>
          <option value="tutorial">íŠœí† ë¦¬ì–¼</option>
          <option value="entertainment">ì—”í„°í…Œì¸ë¨¼íŠ¸</option>
          <option value="motivation">ë™ê¸°ë¶€ì—¬</option>
        </select>
      </div>
      <div>
        <label for="duration">ê¸¸ì´</label>
        <select id="duration">
          <option value="30">30ì´ˆ</option>
          <option value="45">45ì´ˆ</option>
          <option value="60" selected>60ì´ˆ</option>
        </select>
      </div>
      <div class="api-group">
        <label for="groqKey">Groq API í‚¤</label>
        <input type="password" id="groqKey" placeholder="gsk_..." required />
        <label for="pexelsKey">Pexels API í‚¤</label>
        <input type="password" id="pexelsKey" placeholder="Pexels API í‚¤" required />
        <label for="creatomateKey">í¬ë¦¬ì—ì´í† ë©”ì´íŠ¸ API í‚¤</label>
        <input type="password" id="creatomateKey" placeholder="í¬ë¦¬ì—ì´í† ë©”ì´íŠ¸ API í‚¤" required />
      </div>
      <button type="submit" class="btn" id="generateBtn">ì˜ìƒ ìƒì„±í•˜ê¸°</button>
      <div class="error" id="error"></div>
    </form>
    <div class="loading" id="loading" style="display:none;">
      <div class="dot-loader">
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
      </div>
      <div class="loading-status" id="loadingStatus">ì¤€ë¹„ ì¤‘...</div>
      <div class="progressbar"><div class="progressbar-inner" id="progressBar"></div></div>
    </div>
    <div class="result" id="result">
      <video id="videoPreview" controls preload="metadata" crossorigin="anonymous">
        <source src="" type="video/mp4">
        ì˜ìƒì„ ì¬ìƒí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë¸Œë¼ìš°ì €ê°€ ì´ í˜•ì‹ì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
      </video>
      <div class="video-info" id="videoInfo">
        ì˜ìƒ URL: <span id="videoUrl">-</span>
      </div>
      <div class="download-options">
        <button id="downloadBtn" class="download-btn">ğŸ“¥ ì§ì ‘ ë‹¤ìš´ë¡œë“œ</button>
        <button id="openBtn" class="download-btn">ğŸ”— ìƒˆ ì°½ì—ì„œ ì—´ê¸°</button>
      </div>
    </div>
    <div class="credit">Groq, Pexels, í¬ë¦¬ì—ì´í† ë©”ì´íŠ¸ APIë¡œ ì œì‘ë¨</div>
  </div>
  <script>
    // ë¡œê³  ì• ë‹ˆë©”ì´ì…˜
    gsap.to('.logo-anim', {
      scale: 1.2,
      yoyo: true,
      repeat: -1,
      duration: 1.2,
      ease: "power1.inOut"
    });

    // ë²„íŠ¼ ë§ˆì´í¬ë¡œ ì¸í„°ë™ì…˜
    document.getElementById('generateBtn').addEventListener('pointerdown', e => {
      gsap.to(e.target, { scale: 0.96, duration: 0.15, ease: "power1.inOut" });
    });
    document.getElementById('generateBtn').addEventListener('pointerup', e => {
      gsap.to(e.target, { scale: 1, duration: 0.22, ease: "power1.inOut" });
    });

    // ì£¼ìš” ë¡œì§
    class ShortsGenerator {
      constructor() {
        this.form = document.getElementById('videoForm');
        this.loading = document.getElementById('loading');
        this.result = document.getElementById('result');
        this.error = document.getElementById('error');
        this.progressBar = document.getElementById('progressBar');
        this.statusText = document.getElementById('loadingStatus');
        this.video = document.getElementById('videoPreview');
        this.downloadBtn = document.getElementById('downloadBtn');
        this.openBtn = document.getElementById('openBtn');
        this.videoInfo = document.getElementById('videoInfo');
        this.videoUrl = document.getElementById('videoUrl');
        this.currentVideoUrl = null;
        this.init();
      }
      
      init() {
        this.form.addEventListener('submit', this.handleSubmit.bind(this));
        this.downloadBtn.addEventListener('click', this.downloadVideo.bind(this));
        this.openBtn.addEventListener('click', this.openVideo.bind(this));
      }
      
      async handleSubmit(e) {
        e.preventDefault();
        this.hideAll();
        this.showLoading();
        
        try {
          const data = {
            topic: document.getElementById('topic').value.trim(),
            videoType: document.getElementById('videoType').value,
            duration: document.getElementById('duration').value,
            groqKey: document.getElementById('groqKey').value.trim(),
            pexelsKey: document.getElementById('pexelsKey').value.trim(),
            creatomateKey: document.getElementById('creatomateKey').value.trim()
          };
          
          this.updateProgress(10, "ìŠ¤í¬ë¦½íŠ¸ ìƒì„± ì¤‘...");
          const script = await this.generateScript(data);
          
          this.updateProgress(35, "ì´ë¯¸ì§€ ê²€ìƒ‰ ì¤‘...");
          const images = await this.searchImages(data);
          
          this.updateProgress(55, "ì˜ìƒ í…œí”Œë¦¿ ìƒì„± ì¤‘...");
          const template = this.createCreatomateTemplate(script, images, data);
          
          this.updateProgress(70, "ì˜ìƒ ë Œë”ë§ ì¤‘...");
          const videoUrl = await this.renderWithCreatomate(template, data.creatomateKey);
          
          this.updateProgress(100, "ì™„ë£Œ!");
          this.showResult(videoUrl);
          
        } catch (err) {
          console.error('ì˜¤ë¥˜ ì„¸ë¶€ì‚¬í•­:', err);
          this.showError(err.message || "ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");
        }
      }
      
      async generateScript(data) {
        const prompt = `${data.videoType} ìŠ¤íƒ€ì¼ì˜ ${data.duration}ì´ˆ ì‡¼ì¸  ì˜ìƒ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”. 
        ì£¼ì œ: ${data.topic}
        - ì œëª©: [ë§¤ë ¥ì ì¸ ì œëª©]
        - ì˜¤í”„ë‹: [ì²« 3ì´ˆ ëŒ€ì‚¬]
        - ë³¸ë¬¸: [í•µì‹¬ ë‚´ìš© 3-4ê°œ í¬ì¸íŠ¸]
        - ë§ˆë¬´ë¦¬: [ê°•ë ¥í•œ ë§ˆë¬´ë¦¬ ë©˜íŠ¸]
        ê° ì„¹ì…˜ì€ ëª…í™•í•˜ê²Œ êµ¬ë¶„í•˜ê³ , ì‹œì²­ìì˜ ê´€ì‹¬ì„ ëŒ ìˆ˜ ìˆë„ë¡ ì‘ì„±í•´ì£¼ì„¸ìš”.`;
        
        const res = await fetch('https://api.groq.com/openai/v1/chat/completions', {
          method: 'POST',
          headers: {
            'Authorization': `Bearer ${data.groqKey}`,
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            model: 'llama-3.3-70b-versatile',
            messages: [
              {role: 'system', content: 'ë‹¹ì‹ ì€ ì‡¼ì¸  ì˜ìƒ ìŠ¤í¬ë¦½íŠ¸ ì „ë¬¸ê°€ì…ë‹ˆë‹¤.'},
              {role: 'user', content: prompt}
            ],
            temperature: 0.7,
            max_tokens: 900
          })
        });
        
        if (!res.ok) {
          const errorData = await res.json().catch(() => ({}));
          throw new Error(`ìŠ¤í¬ë¦½íŠ¸ ìƒì„± ì‹¤íŒ¨: ${errorData.error?.message || res.statusText}`);
        }
        
        const result = await res.json();
        return result.choices[0].message.content;
      }
      
      async searchImages(data) {
        const keywords = data.topic.split(' ').slice(0, 3).join(' ');
        const res = await fetch(`https://api.pexels.com/v1/search?query=${encodeURIComponent(keywords)}&per_page=3&orientation=portrait`, {
          headers: { 'Authorization': data.pexelsKey }
        });
        
        if (!res.ok) {
          throw new Error(`ì´ë¯¸ì§€ ê²€ìƒ‰ ì‹¤íŒ¨: ${res.statusText}`);
        }
        
        const result = await res.json();
        if (!result.photos || result.photos.length === 0) {
          return ['https://images.pexels.com/photos/3861969/pexels-photo-3861969.jpeg'];
        }
        return result.photos.map(photo => photo.src.large);
      }
      
      createCreatomateTemplate(script, images, data) {
        const title = (script.match(/ì œëª©:\s*(.+)/) || [])[1] || data.topic;
        const content = (script.match(/ë³¸ë¬¸:\s*([\s\S]+?)ë§ˆë¬´ë¦¬:/) || [])[1] || script;
        
        return {
          width: 1080,
          height: 1920,
          duration: parseInt(data.duration),
          format: "mp4",
          quality: "high",
          elements: [
            {
              type: 'image',
              source: images[0] || 'https://images.pexels.com/photos/3861969/pexels-photo-3861969.jpeg',
              x: 0, y: 0, width: 1080, height: 1920, 
              opacity: 0.72,
              fit: "cover"
            },
            {
              type: 'text',
              text: title,
              x: 540, y: 260, width: 900, height: 180,
              font_family: 'Arial Black', font_size: 62, font_weight: 'bold',
              color: '#ffffff', text_align: 'center',
              stroke_color: '#6366f1', stroke_width: 5
            },
            {
              type: 'text',
              text: content.trim().slice(0, 350) + (content.length > 350 ? '...' : ''),
              x: 540, y: 960, width: 900, height: 900,
              font_family: 'Inter', font_size: 39,
              color: '#ffffff', text_align: 'center',
              stroke_color: '#222222', stroke_width: 2
            }
          ]
        };
      }
      
      async renderWithCreatomate(template, apiKey) {
        const res = await fetch('https://api.creatomate.com/v1/renders', {
          method: 'POST',
          headers: {
            'Authorization': `Bearer ${apiKey}`,
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({ 
            source: template,
            output_format: "mp4"
          })
        });
        
        if (!res.ok) {
          const errorData = await res.json().catch(() => ({}));
          throw new Error(`í¬ë¦¬ì—ì´í† ë©”ì´íŠ¸ ë Œë”ë§ ì‹¤íŒ¨: ${errorData.message || res.statusText}`);
        }
        
        const result = await res.json();
        return await this.waitForCreatomateRender(result[0].id, apiKey);
      }
      
      async waitForCreatomateRender(renderId, apiKey) {
        const maxAttempts = 60;
        let attempts = 0;
        
        while (attempts < maxAttempts) {
          await new Promise(r => setTimeout(r, 3000));
          
          const res = await fetch(`https://api.creatomate.com/v1/renders/${renderId}`, {
            headers: { 'Authorization': `Bearer ${apiKey}` }
          });
          
          if (!res.ok) {
            throw new Error('ë Œë”ë§ ìƒíƒœ í™•ì¸ ì‹¤íŒ¨');
          }
          
          const render = await res.json();
          
          if (render.status === 'succeeded') {
            return render.url;
          } else if (render.status === 'failed') {
            throw new Error(`ë Œë”ë§ ì‹¤íŒ¨: ${render.error || 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜'}`);
          }
          
          this.updateProgress(70 + attempts, `ë Œë”ë§ ì¤‘... (${attempts + 1}ì´ˆ)`);
          attempts++;
        }
        
        throw new Error('ë Œë”ë§ ì‹œê°„ ì´ˆê³¼ - ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”');
      }
      
      async downloadVideo() {
        if (!this.currentVideoUrl) {
          alert('ë‹¤ìš´ë¡œë“œí•  ì˜ìƒì´ ì—†ìŠµë‹ˆë‹¤.');
          return;
        }
        
        try {
          // í”„ë¡ì‹œë¥¼ í†µí•œ ë‹¤ìš´ë¡œë“œ ì‹œë„
          const proxyUrl = `https://cors-anywhere.herokuapp.com/${this.currentVideoUrl}`;
          
          const response = await fetch(proxyUrl, {
            method: 'GET',
            headers: {
              'X-Requested-With': 'XMLHttpRequest'
            }
          }).catch(() => {
            // í”„ë¡ì‹œ ì‹¤íŒ¨ ì‹œ ì§ì ‘ ì‹œë„
            return fetch(this.currentVideoUrl);
          });
          
          if (response.ok) {
            const blob = await response.blob();
            const blobUrl = window.URL.createObjectURL(blob);
            
            const a = document.createElement('a');
            a.href = blobUrl;
            a.download = `shorts-ai-${Date.now()}.mp4`;
            a.style.display = 'none';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            
            window.URL.revokeObjectURL(blobUrl);
            alert('ë‹¤ìš´ë¡œë“œê°€ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.');
          } else {
            throw new Error('ë‹¤ìš´ë¡œë“œ ì‹¤íŒ¨');
          }
          
        } catch (error) {
          console.error('ë‹¤ìš´ë¡œë“œ ì˜¤ë¥˜:', error);
          // ëŒ€ì•ˆ: ìƒˆ ì°½ì—ì„œ ì—´ê¸°
          this.openVideo();
          alert('ì§ì ‘ ë‹¤ìš´ë¡œë“œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ìƒˆ ì°½ì—ì„œ ì˜ìƒì„ ì—´ì—ˆìŠµë‹ˆë‹¤. ìš°í´ë¦­ í›„ "ë‹¤ë¥¸ ì´ë¦„ìœ¼ë¡œ ì €ì¥"ì„ ì„ íƒí•˜ì„¸ìš”.');
        }
      }
      
      openVideo() {
        if (this.currentVideoUrl) {
          window.open(this.currentVideoUrl, '_blank');
        }
      }
      
      showLoading() {
        this.form.style.display = 'none';
        this.loading.style.display = 'flex';
        this.result.style.display = 'none';
        this.error.style.display = 'none';
        this.updateProgress(0, "ì¤€ë¹„ ì¤‘...");
      }
      
      showResult(videoUrl) {
        this.loading.style.display = 'none';
        this.result.style.display = 'flex';
        this.currentVideoUrl = videoUrl;
        
        // ì˜ìƒ URL í‘œì‹œ
        this.videoUrl.textContent = videoUrl;
        
        // ë¹„ë””ì˜¤ ìš”ì†Œ ì„¤ì •
        this.video.src = videoUrl;
        this.video.load(); // ê°•ì œ ë¡œë“œ
        
        // ë¹„ë””ì˜¤ ë¡œë“œ ì´ë²¤íŠ¸ ì²˜ë¦¬
        this.video.addEventListener('loadeddata', () => {
          console.log('ë¹„ë””ì˜¤ ë¡œë“œ ì™„ë£Œ');
        });
        
        this.video.addEventListener('error', (e) => {
          console.error('ë¹„ë””ì˜¤ ë¡œë“œ ì˜¤ë¥˜:', e);
          this.video.style.display = 'none';
          this.videoInfo.innerHTML = `
            <strong>ë¯¸ë¦¬ë³´ê¸° ë¶ˆê°€</strong><br>
            ì˜ìƒ URL: <a href="${videoUrl}" target="_blank">${videoUrl}</a><br>
            <small>ë¸Œë¼ìš°ì €ì—ì„œ ë¯¸ë¦¬ë³´ê¸°í•  ìˆ˜ ì—†ì§€ë§Œ ë‹¤ìš´ë¡œë“œëŠ” ê°€ëŠ¥í•©ë‹ˆë‹¤.</small>
          `;
        });
        
        gsap.fromTo(this.result, {y: 24, opacity: 0}, {y: 0, opacity: 1, duration: .7, ease: "power2.out"});
      }
      
      showError(msg) {
        this.loading.style.display = 'none';
        this.result.style.display = 'none';
        this.error.style.display = 'block';
        this.error.textContent = msg;
        gsap.fromTo(this.error, {x: -12, opacity: 0}, {x: 0, opacity: 1, duration: .38, ease: "power2.out"});
        this.form.style.display = 'block';
      }
      
      hideAll() {
        this.error.style.display = 'none';
        this.result.style.display = 'none';
        this.loading.style.display = 'none';
      }
      
      updateProgress(percent, status) {
        this.progressBar.style.width = Math.min(percent, 100) + '%';
        this.statusText.textContent = status;
      }
    }
    
    document.addEventListener('DOMContentLoaded', () => {
      new ShortsGenerator();
    });
  </script>
</body>
</html>

